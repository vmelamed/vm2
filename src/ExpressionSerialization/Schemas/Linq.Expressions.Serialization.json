{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "urn:schemas-vm-com:Linq.Expressions.Serialization.Json",
    "title": "LINQ Expression Serialization",
    "description": "Schema of the JSON documents representing serialized Microsoft .NET LINQ expression trees.",
    "type": "object",
    "properties": {
        "expression": {
            "type": "object",
            "properties": {
                "constant": {
                    "$ref": "#/$defs/constantValue"
                }
            },
            "additionalProperties": false
        }
    },
    "required": [
        "expression"
    ],
    "additionalProperties": {
        "$schema": {
            "type": "string"
        }
    },
    "$defs": {
        "booleanConstant": {
            "title": "Boolean constants",
            "type": "object",
            "properties": {
                "type": {
                    "const": "boolean"
                },
                "value": {
                    "type": "boolean"
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "byteConstant": {
            "title": "Byte constants",
            "description": "Unsigned 8-bit integer value",
            "type": "object",
            "properties": {
                "type": {
                    "const": "byte"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 255
                        },
                        {
                            "type": "string",
                            "pattern": "^(0*25[0-5])|(0*2[0-4][0-9])|(0*[0-1][0-9]{2})|(0*[0-9]{1,2})$"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "charConstant": {
            "title": "Unicode character value",
            "type": "object",
            "properties": {
                "type": {
                    "const": "char"
                },
                "value": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 1
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "doubleConstant": {
            "title": "Double precision, floating point numerical value",
            "type": "object",
            "properties": {
                "type": {
                    "const": "double"
                },
                "value": {
                    "type": "number",
                    "minimum": -1.7976931348623157E+308,
                    "maximum": 1.7976931348623157E+308
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "floatConstant": {
            "title": "Floating point numerical value.",
            "type": "object",
            "properties": {
                "type": {
                    "const": "float"
                },
                "value": {
                    "type": "number",
                    "minimum": -3.4028235E+38,
                    "maximum": 3.4028235E+38
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "halfConstant": {
            "title": "Half precision floating point numerical value.",
            "type": "object",
            "properties": {
                "type": {
                    "const": "half"
                },
                "value": {
                    "type": "number",
                    "minimum": -65500,
                    "maximum": 65500
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "intConstant": {
            "title": "32-bit, signed, integer, numeric value",
            "$comment": "Represents 32-bit, signed, integer, numeric values. Note: it is a well-known problem that different languages represent internally big integer values differently: e.g. JavaScript and Go internally represent these JSON values as integers when they are in the range of [-2^53, 2^53-1] and as double precision values outside of that region. Therefore to avoid ambiguity and loss of fidelity this schema allows the integer values to be expressed also as string values, subject to pattern constrains. Even though the current type of constants fit well in the JavaScript integer range, for consistency this and all integer values can be represented as strings as well.",
            "type": "object",
            "properties": {
                "type": {
                    "const": "int"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "integer",
                            "minimum": -2147483648,
                            "maximum": 2147483647
                        },
                        {
                            "type": "string",
                            "pattern": "^(-0*2147483648)|([-+]?0*214748364[0-7])|([-+]?0*21474836[0-3][0-9])|([-+]?0*2147483[0-5][0-9]{2})|([-+]?0*214748[0-2][0-9]{3})|([-+]?0*21474[0-7][0-9]{4})|([-+]?0*2147[0-3][0-9]{5})|([-+]?0*214[0-6][0-9]{6})|([-+]?0*21[0-3][0-9]{7})|([-+]?0*20[0-9]{8})|([-+]?0*1[0-9]{9})|([-+]?0*[0-9]{1,9})$"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "intPtrConstant": {
            "title": "32-bit, signed, integer, numeric value (.NET specific)",
            "$comment": "Represents 32-bit, signed, integer numeric values. Note: it is a well-known problem that different languages represent internally big integer values differently: e.g. JavaScript and Go internally represent these JSON values as integers when they are in the range of [-2^53, 2^53-1] and as double precision values outside of that region. Therefore to avoid ambiguity and loss of fidelity this schema allows the integer values to be expressed also as string values, subject to pattern constrains. Even though the current type of constants fit well in the JavaScript integer range, for consistency this and all integer values can be represented as strings as well.",
            "type": "object",
            "properties": {
                "type": {
                    "const": "intPtr"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "integer",
                            "minimum": -2147483648,
                            "maximum": 2147483647
                        },
                        {
                            "type": "string",
                            "pattern": "^(-0*2147483648)|([-+]?0*214748364[0-7])|([-+]?0*21474836[0-3][0-9])|([-+]?0*2147483[0-5][0-9]{2})|([-+]?0*214748[0-2][0-9]{3})|([-+]?0*21474[0-7][0-9]{4})|([-+]?0*2147[0-3][0-9]{5})|([-+]?0*214[0-6][0-9]{6})|([-+]?0*21[0-3][0-9]{7})|([-+]?0*20[0-9]{8})|([-+]?0*1[0-9]{9})|([-+]?0*[0-9]{1,9})$"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "longConstant": {
            "title": "64-bit, signed, integer, numeric value",
            "description": "Represents 64-bit, signed, integer numeric values. Note: it is a well-known problem that different languages represent internally big integer values differently: e.g. JavaScript and Go internally represent these JSON values as integers when they are in the range of [-2^53, 2^53-1] and as double precision values outside of that region. Therefore to avoid ambiguity and loss of fidelity this schema allows the integer values to be expressed also as string values, subject to pattern constrains. The larger/smaller values of this type definitely may suffer from loss of fidelity.",
            "type": "object",
            "properties": {
                "type": {
                    "const": "long"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "integer",
                            "minimum": -9223372036854775808,
                            "maximum": 9223372036854775807
                        },
                        {
                            "type": "string",
                            "pattern": "^(-0*9223372036854775808)|([-+]?0*922337203685477580[0-7])|([-+]?0*9223372036854775[0-7][0-9]{2})|([-+]?0*922337203685477[0-4][0-9]{3})|([-+]?0*92233720368547[0-6][0-9]{4})|([-+]?0*9223372036854[0-6][0-9]{5})|([-+]?0*922337203685[0-3][0-9]{6})|([-+]?0*92233720368[0-4][0-9]{7})|([-+]?0*9223372036[0-7][0-9]{8})|([-+]?0*922337203[0-5][0-9]{9})|([-+]?0*92233720[0-2][0-9]{10})|([-+]?0*922337[0-1][0-9]{12})|([-+]?0*92233[0-6][0-9]{13})|([-+]?0*9223[0-2][0-9]{14})|([-+]?0*922[0-2][0-9]{15})|([-+]?0*92[0-1][0-9]{16})|([-+]?0*9[0-1][0-9]{17})|([-+]?0*[0-8][0-9]{18})|([-+]?0*[0-9]{1,18})$$"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "shortConstant": {
            "title": "16-bit, signed, integer, numeric value",
            "description": "Represents 16-bit, signed, integer numeric values. Note: it is a well-known problem that different languages represent internally big integer values differently: e.g. JavaScript and Go internally represent these JSON values as integers when they are in the range of [-2^53, 2^53-1] and as double precision values outside of that region. Therefore to avoid ambiguity and loss of fidelity this schema allows the integer values to be expressed also as string values, subject to pattern constrains. Even though the current type of constants fit well in the JavaScript integer range, for consistency this and all integer values can be represented as strings as well.",
            "type":  "object",
            "properties": {
                "type": {
                    "const": "short"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "integer",
                            "minimum": -32768,
                            "maximum": 32767
                        },
                        {
                            "type": "string",
                            "pattern": "^(-0*32768)|([-+]?0*3276[0-7])|([-+]?0*327[0-5][0-9])|([-+]?0*32[0-6][0-9]{2})|([-+]?0*3[0-1][0-9]{3})|([-+]?0*[0-2][0-9]{4})|([-+]?0*[0-9]{1,4})$"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "signedByteConstant": {
            "title": "8-bit, signed, integer, numeric value",
            "description": "Represents an 8-bit, unsigned, integer numeric values.",
            "type": "object",
            "properties": {
                "type": {
                    "const": "signedByte"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "integer",
                            "minimum": -128,
                            "maximum": 127
                        },
                        {
                            "type": "string",
                            "pattern": "^(-0*128)|([-+]?0*12[0-7])|([-+]?0*1[01][0-9])|([-+]?0*[0-9]{1,2})$"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "unsignedIntConstant": {
            "title": "32-bit, unsigned, integer, numeric value",
            "$comment": "Represents 32-bit, unsigned, integer numeric values. Note: it is a well-known problem that different languages represent internally big integer values differently: e.g. JavaScript and Go internally represent these JSON values as integers when they are in the range of [-2^53, 2^53-1] and as double precision values outside of that region. Therefore to avoid ambiguity and loss of fidelity this schema allows the integer values to be expressed also as string values, subject to pattern constrains. Even though the current type of constants fit well in the JavaScript integer range, for consistency this and all integer values can be represented as strings as well.",
            "type": "object",
            "properties": {
                "type": {
                    "const": "unsignedInt"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 4294967295
                        },
                        {
                            "type": "string",
                            "pattern": "^(0*429496729[0-5])|(0*42949672[0-8][0-9])|(0*4294967[0-1][0-9]{2})|(0*429496[0-6][0-9]{3})|(0*42949[0-5][0-9]{4})|(0*4294[0-8][0-9]{5})|(0*429[0-3][0-9]{6})|(0*42[0-8][0-9]{7})|(0*4[0-1][0-9]{8})|(0*[0-3][0-9]{9})|(0*[0-9]{1,9})$"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "unsignedIntPtrConstant": {
            "title": "32-bit, unsigned, integer, numeric value (.NET specific)",
            "$comment": "Represents 32-bit, unsigned, integer numeric values. Note: it is a well-known problem that different languages represent internally big integer values differently: e.g. JavaScript and Go internally represent these JSON values as integers when they are in the range of [-2^53, 2^53-1] and as double precision values outside of that region. Therefore to avoid ambiguity and loss of fidelity this schema allows the integer values to be expressed also as string values, subject to pattern constrains. Even though the current type of constants fit well in the JavaScript integer range, for consistency this and all integer values can be represented as strings as well.",
            "type": "object",
            "properties": {
                "type": {
                    "const": "unsignedIntPtr"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 4294967295
                        },
                        {
                            "type": "string",
                            "pattern": "^(0*429496729[0-5])|(0*42949672[0-8][0-9])|(0*4294967[0-1][0-9]{2})|(0*429496[0-6][0-9]{3})|(0*42949[0-5][0-9]{4})|(0*4294[0-8][0-9]{5})|(0*429[0-3][0-9]{6})|(0*42[0-8][0-9]{7})|(0*4[0-1][0-9]{8})|(0*[0-3][0-9]{9})|(0*[0-9]{1,9})$"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "unsignedLongConstant": {
            "title": "64-bit, unsigned, integer, numeric value",
            "description": "Represents 64-bit, unsigned, integer numeric values. Note: it is a well-known problem that different languages represent internally big integer values differently: e.g. JavaScript and Go internally represent these JSON values as integers when they are in the range of [-2^53, 2^53-1] and as double precision values outside of that region. Therefore to avoid ambiguity and loss of fidelity this schema allows the integer values to be expressed also as string values, subject to pattern constrains.  The larger/smaller values of this type definitely may suffer from loss of fidelity.",
            "type": "object",
            "properties": {
                "type": {
                    "const": "unsignedLong"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 18446744073709551615
                        },
                        {
                            "type": "string",
                            "pattern": "^(0*1844674407370955161[0-5])|(0*1844674407370955160[0-9])|(0*18446744073709551[0-5][0-9]{2})|(0*18446744073709550[0-9]{3})|(0*184467440737095[0-4][0-9]{4})|(0*18446744073709[0-4][0-9]{5})|(0*1844674407370[0-8][0-9]{6})|(0*18446744073[0-6][0-9]{8})|(0*1844674407[0-2][0-9]{9})|(0*184467440[0-6][0-9]{10})|(0*1844674[0-3][0-9]{12})|(0*184467[0-3][0-9]{13})|(0*18446[0-6][0-9]{14})|(0*1844[0-5][0-9]{15})|(0*184[0-3][0-9]{16})|(0*18[0-3][0-9]{17})|(0*1[0-7][0-9]{18})|(0*[0-9]{1,19})$"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "unsignedShortConstant": {
            "title": "16-bit, unsigned, integer, numeric value",
            "description": "Represents 16-bit, unsigned, integer numeric values. Note: it is a well-known problem that different languages represent internally big integer values differently: e.g. JavaScript and Go internally represent these JSON values as integers when they are in the range of [-2^53, 2^53-1] and as double precision values outside of that region. Therefore to avoid ambiguity and loss of fidelity this schema allows the integer values to be expressed also as string values, subject to pattern constrains. Even though the current type of constants fit well in the JavaScript integer range, for consistency this and all integer values can be represented as strings as well.",
            "type": "object",
            "properties": {
                "type": {
                    "const": "unsignedShort"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 65535
                        },
                        {
                            "type": "string",
                            "pattern": "^(0*6553[0-5])|(0*655[0-2][0-9])|(0*65[0-4][0-9]{2})|(0*6[0-4][0-9]{3})|(0*[0-5][0-9]{4})|(0*[0-9]{1,4})$"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "dateTimeConstant": {
            "title": "Date and time values",
            "description": "Represents points in time (date and time) as strings following RFC3339 and ISO 8601",
            "type": "object",
            "properties": {
                "type": {
                    "const": "dateTime"
                },
                "value": {
                    "type": "string",
                    "format": "date-time",
                    "pattern": "^[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[0-1])[T ](?:[01][0-9]|2[0-3]):(?:[0-5][0-9]):(?:[0-5][0-9])(\\.[0-9]+)?(Z|([-+]([01][0-9]|2[0-3])(:?[0-5][0-9])?))$"
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "dateTimeOffsetConstant": {
            "title": "Date and time values represented as offset from UTC.",
            "description": "Represents points in time (date and time) as strings following RFC3339 and ISO 8601",
            "type": "object",
            "properties": {
                "type": {
                    "const": "dateTimeOffset"
                },
                "value": {
                    "type": "string",
                    "format": "date-time",
                    "pattern": "^[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[0-1])[T ](?:[01][0-9]|2[0-3]):(?:[0-5][0-9]):(?:[0-5][0-9])(\\.[0-9]+)?(Z|([-+]([01][0-9]|2[0-3])(:?[0-5][0-9])?))$"
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "dbNullConstant": {
            "title": "DBNull type",
            "type": "object",
            "properties": {
                "type": {
                    "const": "dbNull"
                },
                "value": {
                    "type": "null",
                    "default": null
                }
            },
            "additionalProperties": false,
            "required": [
                "type"
            ]
        },
        "decimalConstant": {
            "title": "Represents decimal, fixed point values.",
            "description": "The values can be represented as both numeric and string JSON values.",
            "type": "object",
            "properties": {
                "type": {
                    "const": "decimal"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "number",
                            "minimum": -79228162514264337593543950335,
                            "maximum": 79228162514264337593543950335
                        },
                        {
                            "type": "string",
                            "pattern": "^[-+]?([0-9]+(\\.[0-9]*))|(([0-9]*\\.)?([0-9])+)$"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "durationConstant": {
            "title": "Time duration values",
            "description": "Represents time duration as strings following ISO 8601.",
            "type": "object",
            "properties": {
                "type": {
                    "const": "duration"
                },
                "value": {
                    "type": "string",
                    "format": "duration",
                    "pattern": "^P((([0-9]+D)|([0-9]+M)(([0-9]+D))?|([0-9]+Y)(([0-9]+M)(([0-9]+D))?)?)(T((([0-9]+H)(([0-9]+M)(([0-9]+S))?)?|([0-9]+M)(([0-9]+S))?|([0-9]+S))))?|T((([0-9]+H)(([0-9]+M)(([0-9]+S))?)?|([0-9]+M)(([0-9]+S))?|([0-9]+S)))|([0-9]+W))$"
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "guidConstant": {
            "title": "UUID (a.k.a. GUID) values",
            "type": "object",
            "properties": {
                "type": {
                    "const": "guid"
                },
                "value": {
                    "type": "string",
                    "format": "uuid",
                    "pattern": "^(?:(?:[\\(\\{]?)[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}(?:[\\}\\)]?))|(?:[0-9A-Fa-f]{32})$"
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "stringConstant": {
            "title": "Unicode string values",
            "type": "object",
            "properties": {
                "type": {
                    "const": "string"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "uriConstant": {
            "title": "URI and IRI values",
            "type": "object",
            "properties": {
                "type": {
                    "const": "uri"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "string",
                            "format": "iri-reference"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "objectConstant": {
            "title": "JSON serialized object",
            "type": "object",
            "properties": {
                "type": {
                    "const": "object"
                },
                "objectType": {
                    "type": "string"
                },
                "actualType": {
                    "$comment": "The actual type of the object can be different from the declared type if the type of the object is derived from the declared type.",
                    "type": "string"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "object"
                        },
                        {
                            "$Comment": "Only reference types can have value null.",
                            "type": "null"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "objectType"
            ]
        },
        "anonymousConstant": {
            "title": "JSON serialized anonymous object",
            "type": "object",
            "properties": {
                "type": {
                    "const": "anonymous"
                },
                "objectType": {
                    "type": "string"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "object"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "objectType"
            ]
        },
        "enumConstant": {
            "title": "Enumeration type",
            "type": "object",
            "properties": {
                "type": {
                    "const": "enum"
                },
                "enumType": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                },
                "baseType": {
                    "type": "string"
                },
                "baseValue": {
                    "type": "integer"
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "enumType",
                "value"
            ]
        },
        "byteSequenceConstant": {
            "title": "Arbitrary sequence of bytes",
            "description": "This type represents a sequence of bytes Base64 encoded. The value can be a single string or an array of strings. It can be also null.",
            "type": "object",
            "properties": {
                "type": {
                    "const": "byteSequence"
                },
                "objectType": {
                    "type": "string"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "string",
                            "contentEncoding": "base64",
                            "contentMediaType": "application/octet-stream"
                        },
                        {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "contentEncoding": "base64",
                                "contentMediaType": "application/octet-stream"
                            }
                        },
                        {
                            "type": "null"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "nullableConstant": {
            "title": "Represents Nullable<> .NET types",
            "type": "object",
            "properties": {
                "type": {
                    "const": "nullable"
                },
                "underlyingType": {
                    "type": "string"
                },
                "value": {
                    "oneOf": [
                        {
                            "$ref": "#/$defs/booleanConstant"
                        },
                        {
                            "$ref": "#/$defs/byteConstant"
                        },
                        {
                            "$ref": "#/$defs/charConstant"
                        },
                        {
                            "$ref": "#/$defs/doubleConstant"
                        },
                        {
                            "$ref": "#/$defs/floatConstant"
                        },
                        {
                            "$ref": "#/$defs/halfConstant"
                        },
                        {
                            "$ref": "#/$defs/intConstant"
                        },
                        {
                            "$ref": "#/$defs/intPtrConstant"
                        },
                        {
                            "$ref": "#/$defs/longConstant"
                        },
                        {
                            "$ref": "#/$defs/shortConstant"
                        },
                        {
                            "$ref": "#/$defs/signedByteConstant"
                        },
                        {
                            "$ref": "#/$defs/unsignedIntConstant"
                        },
                        {
                            "$ref": "#/$defs/unsignedIntPtrConstant"
                        },
                        {
                            "$ref": "#/$defs/unsignedLongConstant"
                        },
                        {
                            "$ref": "#/$defs/unsignedShortConstant"
                        },
                        {
                            "$ref": "#/$defs/dateTimeConstant"
                        },
                        {
                            "$ref": "#/$defs/dateTimeOffsetConstant"
                        },
                        {
                            "$ref": "#/$defs/decimalConstant"
                        },
                        {
                            "$ref": "#/$defs/durationConstant"
                        },
                        {
                            "$ref": "#/$defs/guidConstant"
                        },
                        {
                            "$ref": "#/$defs/enumConstant"
                        },
                        {
                            "$comment": "Here we mean only struct object values but JSON wouldn't not understand that.",
                            "$ref": "#/$defs/objectConstant"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "value"
            ]
        },
        "collectionConstant": {
            "title": "Represents collection (array, list, set, etc.) of values",
            "type": "object",
            "properties": {
                "type": {
                    "const": "collection"
                },
                "objectType": {
                    "type": "string"
                },
                "elementType": {
                    "type": "string"
                },
                "length": {
                    "type": "integer"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "array",
                            "items": {
                                "$ref": "#/$defs/constantValue"
                            }
                        },
                        {
                            "type": "null"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "objectType",
                "elementType",
                "value"
            ]
        },
        "dictionaryConstant": {
            "title": "Represents a dictionary (hashtable, dictionary, etc.) of key - value pairs",
            "type": "object",
            "properties": {
                "type": {
                    "const": "dictionary"
                },
                "objectType": {
                    "type": "string"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "key": {
                                        "$ref": "#/$defs/constantValue"
                                    },
                                    "value": {
                                        "$ref": "#/$defs/constantValue"
                                    }
                                },
                                "additionalProperties": false,
                                "required": [
                                    "key",
                                    "value"
                                ]
                            }
                        },
                        {
                            "type": "null"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "objectType",
                "value"
            ]
        },
        "tupleConstant": {
            "title": "Represents a .NET tuple (Tuple<> or ValueTuple<>)",
            "type": "object",
            "properties": {
                "type": {
                    "const": "tuple"
                },
                "objectType": {
                    "type": "string"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "pattern": "^Item[1-9][0-9]*$"
                                    },
                                    "value": {
                                        "$ref": "#/$defs/constantValue"
                                    }
                                },
                                "additionalProperties": false,
                                "required": [
                                    "name",
                                    "value"
                                ]
                            },
                            "minItems": 1
                        },
                        {
                            "type": "null"
                        }
                    ]
                }
            },
            "additionalProperties": false,
            "required": [
                "type",
                "objectType",
                "value"
            ]
        },
        "constantValue": {
            "title": "Constant value in a LINQ expression.",
            "oneOf": [
                {
                    "$ref": "#/$defs/booleanConstant"
                },
                {
                    "$ref": "#/$defs/byteConstant"
                },
                {
                    "$ref": "#/$defs/charConstant"
                },
                {
                    "$ref": "#/$defs/doubleConstant"
                },
                {
                    "$ref": "#/$defs/floatConstant"
                },
                {
                    "$ref": "#/$defs/halfConstant"
                },
                {
                    "$ref": "#/$defs/intConstant"
                },
                {
                    "$ref": "#/$defs/intPtrConstant"
                },
                {
                    "$ref": "#/$defs/longConstant"
                },
                {
                    "$ref": "#/$defs/shortConstant"
                },
                {
                    "$ref": "#/$defs/signedByteConstant"
                },
                {
                    "$ref": "#/$defs/unsignedIntConstant"
                },
                {
                    "$ref": "#/$defs/unsignedIntPtrConstant"
                },
                {
                    "$ref": "#/$defs/unsignedLongConstant"
                },
                {
                    "$ref": "#/$defs/unsignedShortConstant"
                },
                {
                    "$ref": "#/$defs/dateTimeConstant"
                },
                {
                    "$ref": "#/$defs/dateTimeOffsetConstant"
                },
                {
                    "$ref": "#/$defs/decimalConstant"
                },
                {
                    "$ref": "#/$defs/durationConstant"
                },
                {
                    "$ref": "#/$defs/guidConstant"
                },
                {
                    "$ref": "#/$defs/enumConstant"
                },
                {
                    "$ref": "#/$defs/nullableConstant"
                },
                {
                    "$ref": "#/$defs/stringConstant"
                },
                {
                    "$ref": "#/$defs/dbNullConstant"
                },
                {
                    "$ref": "#/$defs/uriConstant"
                },
                {
                    "$ref": "#/$defs/objectConstant"
                },
                {
                    "$ref": "#/$defs/anonymousConstant"
                },
                {
                    "$ref": "#/$defs/byteSequenceConstant"
                },
                {
                    "$ref": "#/$defs/collectionConstant"
                },
                {
                    "$ref": "#/$defs/dictionaryConstant"
                },
                {
                    "$ref": "#/$defs/tupleConstant"
                },
                {
                    "type": "null"
                }
            ]
        }
    }
}
